<div ui-view>
	<div class="m-sbjk">
		<!--  breadcrumb 面包屑  -->
		<div class="m-sbjk-breadcrumb">
			<ul class="breadcrumb" w-breadcrumb></ul>
		</div>
		<!--  main  -->
    <div class="wrapper-lg">
      <div class="panel panel-default">
        <div class="panel-heading">
          联动场景
          <div class="table-h-btn pull-right">
            <button tabindex="2" class="btn b-w-rs w-xs btn-info pull-left" ng-click="openModalAddMl(item,'add')">添加</button>
          </div>
          <div class="table-h-search pull-right col-sm-2">
            <div class="input-group">
              <input type="text" class="input-sm form-control" ng-model="form.KeyWord" ng-keyup="sbgzKeyup($event)" placeholder="输入查询关键词">
							<span class="input-group-btn">
				            <button class="btn btn-sm btn-default" type="button" ng-click="searchPost()" submit-timeout>
                      <i class="fa fa-search"></i>
                    </button>
				          </span>
            </div>
          </div>
        </div>
        <div>
          <table class="table m-b-none" ui-jq="footable" ui-option data-page-size="5" data-stop-propagation="false" data-paging="false">
            <thead>
            <tr>
              <th data-toggle="true">场景名称</th>
              <th data-hide="phone,tablet">触发条件</th>
              <th data-hide="phone,tablet">响应事件</th>
              <th data-hide="phone,tablet">设备位置</th>
              <th data-hide="phone,tablet">开关状态</th>
              <th data-hide="phone,tablet">创建人</th>
              <th>创建时间</th>
              <th>操作</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="item in SbglLdcjItems">
              <td>{{item.TaskName}}</td>
              <td>{{"（" +item.TimePoint + "）（" + item.RepeatType + "）"}}
                <span ng-if="item.RepeatValue.length > 0">（{{item.RepeatValue}}）</span>
              </td>
              <td>{{item.EventName}}</td>
              <td>{{item.Campusname + '-' + item.BuildingName + '-' + item.Floorname}}
                <span ng-if='item.Classroomsname.length > 0'>-{{item.Classroomsname}}</span>
              </td>
              <td ng-if="item.TaskIsOpen == 0">关闭</td>
              <td ng-if="item.TaskIsOpen == 1">打开</td>
              <td>{{item.MakeUsersname}}</td>
              <td>{{item.MakeDate}}</td>
              <td>
                <div class="btn-group dropdown" dropdown="">
                  <button class="btn btn-default" dropdown-toggle="" aria-haspopup="true" aria-expanded="false">操作<span class="caret"></span></button>
                  <ul class="dropdown-menu">
                    <li>
                      <a ng-click="openModalAddMl(item,'details')">查看</a>
                    </li>
                    <li>
                      <a ng-click="openModalAddMl(item,'edit')">修改</a>
                    </li>
                    <li>
                      <a ng-click="deleteItem(item,'delete')">删除</a>
                    </li>
                  </ul>
                </div>
              </td>
            </tr>
            <tr ng-if="SbglLdcjItems.length < 1">
              <td colspan="8" class="text-center">无数据</td>
            </tr>
            </tbody>
            <tfoot class="">
              <tr>
                <td colspan="30" class="text-center">
                  <!--分页-->
                  <div class="text-center" foo-pagination></div>
                </td>
              </tr>
            </tfoot>
          </table>
        </div>
      </div>
    </div>
	</div>
</div>
